#include "../../utils/testing/test-wrapper.cpp"
#include "main.cpp"

void test() {
	V<pair<int, int>> coord = {
		{1, 6},
		{3, 9},
		{6, 8},
		{8, 8},
		{9, 8},
		{7, 6},
		{5, 6},
		{6, 4},
		{8, 4},
		{4, 2},
		{14, 13},
		{14, 9},
		{15, 7},
		{17, 7},
		{14, 5},
		{17, 5},
		{16, 13},
		{16, 11},
		{14, 11},
		{12, 3},
		{13, 3},
		{10, 6},
		{11, 5},
		{11, 8},
		{11, 11},
		{10, 9},
		{9, 11},
		{9, 13},
		{9, 15},
		{11, 13},
		{7, 13},
		{7, 11},
		{2, 12}
	};
	V<pair<int, int>> edges = {
		{0, 1},
		{1, 2},
		{2, 3},
		{3, 4},
		{4, 5},
		{5, 6},
		{6, 7},
		{7, 8},
		{8, 9},
		{9, 0},
		{2, 6},
		{4, 21},
		{21, 22},
		{22, 23},
		{21, 23},
		{19, 20},
		{10, 16},
		{11, 12},
		{14, 12},
		{12, 13},
		{15, 13},
		{16, 17},
		{10, 18},
		{17, 18},
		{23, 25},
		{25, 24},
		{25, 26},
		{26, 27},
		{27, 28},
		{28, 29},
		{29, 27},
		{30, 26},
		{31, 26},
		{5, 7}
	};
	ostringstream ss;
	ss << split_planar_to_faces(coord, edges);
	assert(ss.str() == "{(0, {{2, 2, 3}, {3, 3, 4}, {4, 4, 5}, {5, 5, 6}, {10, 6, 2}}), (0, {{0, 0, 1}, {1, 1, 2}, {10, 2, 6}, {6, 6, 7}, {7, 7, 8}, {8, 8, 9}, {9, 9, 0}}), (0, {{14, 21, 23}, {13, 23, 22}, {12, 22, 21}}), (1, {{15, 19, 20}, {15, 20, 19}}), (1, {{17, 11, 12}, {19, 12, 13}, {20, 13, 15}, {20, 15, 13}, {19, 13, 12}, {18, 12, 14}, {18, 14, 12}, {17, 12, 11}}), (1, {{22, 10, 18}, {23, 18, 17}, {21, 17, 16}, {16, 16, 10}}), (0, {{16, 10, 16}, {21, 16, 17}, {23, 17, 18}, {22, 18, 10}}), (0, {{28, 27, 28}, {29, 28, 29}, {30, 29, 27}}), (1, {{9, 0, 9}, {8, 9, 8}, {7, 8, 7}, {33, 7, 5}, {4, 5, 4}, {11, 4, 21}, {12, 21, 22}, {13, 22, 23}, {24, 23, 25}, {26, 25, 26}, {32, 26, 31}, {32, 31, 26}, {31, 26, 30}, {31, 30, 26}, {27, 26, 27}, {30, 27, 29}, {29, 29, 28}, {28, 28, 27}, {27, 27, 26}, {26, 26, 25}, {25, 25, 24}, {25, 24, 25}, {24, 25, 23}, {14, 23, 21}, {11, 21, 4}, {3, 4, 3}, {2, 3, 2}, {1, 2, 1}, {0, 1, 0}}), (0, {{33, 5, 7}, {6, 7, 6}, {5, 6, 5}})}");
}
